# ============================================================================
# Environment Configuration Template
# ============================================================================
#
# IMPORTANT SECURITY NOTICE:
# 1. Copy this file to .env: cp .env.example .env
# 2. NEVER commit .env to version control (it's in .gitignore)
# 3. Replace ALL placeholder values with actual secure values
# 4. Generate secure keys using: python -c "import secrets; print(secrets.token_urlsafe(32))"
# 5. Use different values for development, staging, and production
#
# ============================================================================

# ============================================================================
# Application Configuration
# ============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
APP_NAME="Fraud Detection System"
APP_VERSION=1.0.0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# Security
# IMPORTANT: Generate a secure secret key for production using:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=<REPLACE_WITH_SECURE_SECRET_KEY>
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/fraud_detection
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database Migration
ALEMBIC_CONFIG=alembic.ini

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Cache Configuration
CACHE_TTL=3600
CACHE_PREFIX=fraud_detection

# ============================================================================
# Kafka Configuration
# ============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# Kafka Topics
KAFKA_TRANSACTION_TOPIC=transactions
KAFKA_FRAUD_ALERTS_TOPIC=fraud_alerts
KAFKA_MODEL_PREDICTIONS_TOPIC=model_predictions

# Kafka Consumer Configuration
KAFKA_CONSUMER_GROUP_ID=fraud_detection_consumer
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_AUTO_COMMIT_INTERVAL_MS=1000

# Kafka Producer Configuration
KAFKA_ACKS=all
KAFKA_RETRIES=3
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10
KAFKA_BUFFER_MEMORY=33554432

# ============================================================================
# ML Model Configuration
# ============================================================================
ML_MODEL_PATH=./models
ML_MODEL_NAME=fraud_detection_model
ML_MODEL_VERSION=latest
ML_FEATURE_STORE_PATH=./features

# Model Training
ML_TRAINING_DATA_PATH=./data/training
ML_VALIDATION_SPLIT=0.2
ML_TEST_SPLIT=0.1
ML_RANDOM_STATE=42

# Model Serving
ML_BATCH_SIZE=1000
ML_PREDICTION_THRESHOLD=0.5
ML_MODEL_RELOAD_INTERVAL=3600

# Feature Engineering
FEATURE_WINDOW_SIZE=30
FEATURE_AGGREGATION_INTERVAL=300

# ============================================================================
# Monitoring and Observability
# ============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001
PROMETHEUS_PATH=/metrics

# Jaeger Tracing
JAEGER_ENABLED=true
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces
JAEGER_SERVICE_NAME=fraud-detection-api

# Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30

# ============================================================================
# External Services
# ============================================================================

# Email Service (for alerts)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
EMAIL_FROM=noreply@fraud-detection.com

# Slack Integration (for alerts)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#fraud-alerts

# External APIs
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3
EXTERNAL_API_BACKOFF_FACTOR=2

# ============================================================================
# Security Configuration
# ============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Authentication
AUTH_ENABLED=true
AUTH_PROVIDER=jwt
AUTH_TOKEN_URL=/auth/token
AUTH_REFRESH_URL=/auth/refresh

# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# ============================================================================
# Performance Configuration
# ============================================================================

# Connection Pools
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30
REQUEST_TIMEOUT=60

# Caching
CACHE_ENABLED=true
CACHE_BACKEND=redis
CACHE_DEFAULT_TIMEOUT=300

# Background Tasks
BACKGROUND_TASKS_ENABLED=true
BACKGROUND_TASK_QUEUE=celery
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================================================
# Development Configuration
# ============================================================================

# Development Tools
DEV_RELOAD=true
DEV_DEBUG_TOOLBAR=true
DEV_PROFILER=false

# Testing
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/fraud_detection_test
TEST_REDIS_URL=redis://localhost:6379/15

# ============================================================================
# Logging Configuration
# ============================================================================

# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# Structured Logging
STRUCTURED_LOGGING=true
LOG_REQUEST_ID=true
LOG_USER_ID=true
LOG_CORRELATION_ID=true

# ============================================================================
# Feature Flags
# ============================================================================

# Feature toggles
FEATURE_REAL_TIME_SCORING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_MODEL_EXPLAINABILITY=true
FEATURE_A_B_TESTING=false
FEATURE_ADVANCED_ANALYTICS=true

# Experimental features
EXPERIMENTAL_NEW_MODEL=false
EXPERIMENTAL_ENHANCED_FEATURES=false